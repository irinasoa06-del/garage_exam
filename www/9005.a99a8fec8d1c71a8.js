"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9005],{9005:(v,f,c)=>{c.r(f),c.d(f,{LoginPageModule:()=>h});var d=c(6895),r=c(433),a=c(12),m=c(2687),p=c(5861),_=c(263),n=c(8256);function P(t,g){1&t&&(n.TgZ(0,"span"),n._uU(1,"L'email est requis"),n.qZA())}function C(t,g){1&t&&(n.TgZ(0,"span"),n._uU(1,"Format d'email invalide"),n.qZA())}function M(t,g){if(1&t&&(n.TgZ(0,"div",14),n.YNc(1,P,2,0,"span",15),n.YNc(2,C,2,0,"span",15),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.errorControl.email.errors.required),n.xp6(1),n.Q6J("ngIf",o.errorControl.email.errors.email)}}function O(t,g){1&t&&(n.TgZ(0,"span"),n._uU(1,"Le mot de passe est requis"),n.qZA())}function x(t,g){1&t&&(n.TgZ(0,"span"),n._uU(1,"Minimum 6 caract\xe8res"),n.qZA())}function u(t,g){if(1&t&&(n.TgZ(0,"div",14),n.YNc(1,O,2,0,"span",15),n.YNc(2,x,2,0,"span",15),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.errorControl.password.errors.required),n.xp6(1),n.Q6J("ngIf",o.errorControl.password.errors.minlength)}}const b=[{path:"",component:(()=>{class t{constructor(o,e,s,i,l){this.formBuilder=o,this.authService=e,this.router=s,this.loadingController=i,this.alertController=l,this.isSubmitted=!1,this.loginForm=this.formBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.minLength(6)]]})}ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/cars"])}get errorControl(){return this.loginForm.controls}login(){var o=this;return(0,p.Z)(function*(){if(o.isSubmitted=!0,o.loginForm.invalid)return;const e=yield o.loadingController.create({message:"Connexion en cours..."});var s;yield e.present(),o.authService.login(o.loginForm.value.email,o.loginForm.value.password).subscribe({next:(s=(0,p.Z)(function*(i){yield e.dismiss(),o.authService.saveUserData(i),o.router.navigate(["/cars"])}),function(l){return s.apply(this,arguments)}),error:function(){var s=(0,p.Z)(function*(i){var l;console.error("\u274c Login error:",i),console.log("\u274c Error status:",i.status),console.log("\u274c Error message:",i.message),console.log("\u274c Error error body:",i.error),yield e.dismiss(),yield(yield o.alertController.create({header:"\xc9chec de connexion",message:(null===(l=i.error)||void 0===l?void 0:l.message)||"Email ou mot de passe incorrect",buttons:["OK"]})).present()});return function(l){return s.apply(this,arguments)}}()})})()}goToRegister(){this.router.navigate(["/register"])}forgotPassword(){console.log("Mot de passe oubli\xe9")}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(r.qu),n.Y36(_.e),n.Y36(m.F0),n.Y36(a.HT),n.Y36(a.Br))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:25,vars:4,consts:[[1,"ion-padding"],[1,"login-container"],[1,"logo-section"],["src","/assets/images/logo.png","alt","Garage Logo"],[1,"form-section",3,"formGroup","ngSubmit"],["lines","full"],["label","Email","label-placement","floating","type","email","formControlName","email","required",""],["class","error-message",4,"ngIf"],["label","Mot de passe","label-placement","floating","type","password","formControlName","password","required",""],[1,"forgot-password"],["fill","clear","size","small",3,"click"],["expand","block","type","submit",1,"login-button",3,"disabled"],[1,"register-link"],["expand","block","fill","outline",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(o,e){1&o&&(n.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),n._UZ(3,"ion-img",3),n.TgZ(4,"h1"),n._uU(5,"Mon Garage"),n.qZA(),n.TgZ(6,"p"),n._uU(7,"Connectez-vous pour g\xe9rer vos r\xe9parations"),n.qZA()(),n.TgZ(8,"form",4),n.NdJ("ngSubmit",function(){return e.login()}),n.TgZ(9,"ion-item",5),n._UZ(10,"ion-input",6),n.qZA(),n.YNc(11,M,3,2,"div",7),n.TgZ(12,"ion-item",5),n._UZ(13,"ion-input",8),n.qZA(),n.YNc(14,u,3,2,"div",7),n.TgZ(15,"div",9)(16,"ion-button",10),n.NdJ("click",function(){return e.forgotPassword()}),n._uU(17," Mot de passe oubli\xe9 ? "),n.qZA()(),n.TgZ(18,"ion-button",11),n._uU(19," Se connecter "),n.qZA(),n.TgZ(20,"div",12)(21,"p"),n._uU(22,"Pas encore de compte ?"),n.qZA(),n.TgZ(23,"ion-button",13),n.NdJ("click",function(){return e.goToRegister()}),n._uU(24," Cr\xe9er un compte "),n.qZA()()()()()),2&o&&(n.xp6(8),n.Q6J("formGroup",e.loginForm),n.xp6(3),n.Q6J("ngIf",e.errorControl.email.touched&&e.errorControl.email.errors),n.xp6(3),n.Q6J("ngIf",e.errorControl.password.touched&&e.errorControl.password.errors),n.xp6(4),n.Q6J("disabled",e.loginForm.invalid))},dependencies:[d.O5,r._Y,r.JJ,r.JL,r.Q7,r.sg,r.u,a.YG,a.W2,a.Xz,a.pK,a.Ie,a.j9],styles:['.login-container[_ngcontent-%COMP%]{position:relative;min-height:100vh;background:linear-gradient(135deg,#0f2027 0%,#203a43 50%,#2c5364 100%);background-image:url(/assets/images/car-detail-bg.jpg);background-size:cover;background-position:center;background-attachment:fixed;display:flex;align-items:center;justify-content:center;padding:20px;overflow-y:auto}.login-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:rgba(10,20,30,.75);backdrop-filter:blur(3px);z-index:0}.login-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;max-width:440px;animation:_ngcontent-%COMP%_slideInUp .8s cubic-bezier(.165,.84,.44,1)}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:35px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 20px;filter:drop-shadow(0 8px 20px rgba(255,255,255,.15));transition:all .4s cubic-bezier(.175,.885,.32,1.275)}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]:hover{transform:scale(1.08) translateY(-5px);filter:drop-shadow(0 12px 30px rgba(255,255,255,.25))}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;font-weight:800;color:#fff;margin-bottom:8px;text-shadow:0 4px 15px rgba(0,0,0,.5);letter-spacing:2px;line-height:1.2}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#ffffffd9;text-shadow:0 2px 8px rgba(0,0,0,.4);font-weight:400;letter-spacing:.5px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1.2s ease-out}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.08);backdrop-filter:blur(25px) saturate(180%);border-radius:24px;box-shadow:0 8px 32px #00000059,inset 0 1px #ffffff26,0 1px 3px #0003;border:1px solid rgba(255,255,255,.15);padding:40px 32px;transition:all .4s cubic-bezier(.165,.84,.44,1)}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 40px #00000073,inset 0 1px #fff3,0 2px 6px #00000040;border-color:#ffffff38}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:0}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .1);--border-radius: 14px;--padding-start: 20px;--padding-end: 20px;--min-height: 56px;margin-bottom:18px;border:1.5px solid rgba(255,255,255,.18);border-radius:14px;backdrop-filter:blur(10px);transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 8px #0000001a}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--background: rgba(255, 255, 255, .15);border-color:#64b4ff80;box-shadow:0 4px 15px #64b4ff40,inset 0 1px #ffffff1a;transform:translate(3px)}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item.item-has-focus[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .18);border-color:#64b4ffb3;box-shadow:0 4px 20px #64b4ff59,inset 0 1px #ffffff26;transform:translate(5px)}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#ffffffe6;font-size:14px;font-weight:500;letter-spacing:.3px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:15px;color:#fff;--placeholder-color: rgba(255, 255, 255, .5);--placeholder-opacity: 1;font-weight:400;letter-spacing:.3px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:-12px 0 18px 16px;font-size:12px;color:#ff6b8a;text-shadow:0 2px 6px rgba(0,0,0,.6);font-weight:500;letter-spacing:.2px;animation:_ngcontent-%COMP%_shake .4s ease-in-out}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{text-align:right;margin:-8px 0 20px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:13px;font-weight:500;--color: rgba(255, 255, 255, .7);letter-spacing:.3px;text-transform:none;transition:all .3s ease}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--color: rgba(255, 255, 255, .95);transform:translate(-3px)}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{margin-top:28px;height:56px;font-weight:700;font-size:16px;letter-spacing:1.2px;text-transform:uppercase;background:linear-gradient(135deg,#4a90e2 0%,#357abd 50%,#2563a8 100%);border-radius:14px;box-shadow:0 6px 20px #4a90e266,inset 0 1px #fff3;transition:all .4s cubic-bezier(.165,.84,.44,1);position:relative;overflow:hidden;border:1px solid rgba(255,255,255,.1)}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.25),transparent);transition:left .6s ease}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 10px 35px #4a90e28c,inset 0 1px #ffffff4d;background:linear-gradient(135deg,#5a9de8 0%,#4282c9 50%,#2f6eb5 100%)}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 25px #4a90e280,inset 0 1px #fff3}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:linear-gradient(135deg,#666 0%,#555 100%);box-shadow:0 4px 12px #0000004d}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{text-align:center;margin-top:28px;padding-top:24px;border-top:1px solid rgba(255,255,255,.12)}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffbf;font-size:14px;margin-bottom:14px;text-shadow:0 2px 6px rgba(0,0,0,.4);letter-spacing:.3px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:14px;font-weight:600;--color: rgba(255, 255, 255, .85);--border-color: rgba(255, 255, 255, .3);--border-width: 1.5px;text-transform:uppercase;letter-spacing:1px;height:48px;border-radius:12px;transition:all .3s cubic-bezier(.4,0,.2,1)}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--color: #ffffff;--border-color: rgba(255, 255, 255, .6);--background: rgba(255, 255, 255, .1);transform:translateY(-2px);box-shadow:0 6px 20px #ffffff26}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:15px}.login-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{max-width:100%}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{margin-bottom:28px}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:85px;height:85px;margin-bottom:16px}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;letter-spacing:1.5px}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:32px 24px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 52px;--padding-start: 18px;--padding-end: 18px;margin-bottom:16px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{height:52px;font-size:15px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:46px}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:12px}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{margin-bottom:24px}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:75px;height:75px;margin-bottom:14px}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;letter-spacing:1px}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:28px 20px;border-radius:20px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 50px;--padding-start: 16px;--padding-end: 16px;margin-bottom:14px;border-radius:12px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:13px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:14px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:-10px 0 14px 14px;font-size:11px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{height:50px;font-size:14px;margin-top:24px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{margin-top:24px;padding-top:20px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin-bottom:12px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:44px;font-size:13px}}@media (max-width: 360px){.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:24px 16px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 48px;--padding-start: 14px;--padding-end: 14px}}@media (min-height: 900px){.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{margin-bottom:45px}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:120px;height:120px}.login-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:45px 35px}}']}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[d.ez,r.u5,r.UX,a.Pc,m.Bz.forChild(b)]}),t})()}}]);